

##WHERE句

WHERE句の基本

<pre><code>
SELECT
    列
FROM
    表名
WHERE
    列名 比較演算子 比較対象;
</code></pre>

例)2000年の1月14日以降に生まれた従業員


<pre><code>
SELECT
    empno 従業員番号
FROM
    employees
WHERE
    birtday > '2000-01-14';
</code></pre>


##文字列や日付の比較

- ""で囲まなければいけない

- 大文字と小文字は区別される

名前がsatoで一件もヒットしなくても、SATOで引っかかる可能性はある



##比較演算子

<pre><code>
= 同じ値
> 大なり
< 小なり
> 以上
< 以下
</code></pre>

##WHERE句での列別名は使用ができない

次のSLEECT文はエラーになる

<pre><code>
SELECT
    empno 従業員番号
FROM
    employees
WHERE
    従業員番号 > '1000';
</code></pre>

原因は従業員番号がWHERE句で使用されているため


##WHERE句では演算子が使える

従業員番号を2倍した時で1000と比較

<pre><code>
SELECT
    empno 従業員番号
FROM
    employees
WHERE
    empno*2 > '1000';
</code></pre>


##BETWEEN演算子

BETWEENの後に続く二つの数字の間にあるものが当てはまる

以下の例だと1000以上2000以下

1000と2000も含む

<pre><code>
SELECT
    empno 従業員番号
FROM
    employees
WHERE
    empno BETWEEN 1000 AND 2000;
</code></pre>


##BETWEENの日付での比較

日付の範囲もBETWEENで比較が可能

以下のSQLは

2000-01-14生まれの人から2000-10-14生まれの人までを含む

<pre><code>
SELECT
    empno 従業員番号
FROM
    employees
WHERE
    birtday BETWEEN '2000-01-14' and '2000-10-14';
</code></pre>



##IN演算子

資子を使用すると、列値と複数の値を比較できる

WHERE 列名 IN(値1,値2...)

次の例では10,20版の従業員番号に当てはまると結果にヒットする

<pre><code>
SELECT empno, ename, deptno
FROM employees
WHERE deptno IN(10, 20);
</code></pre>

次の例はその真逆で 10,20以外のものに当てはまるとヒットする

<pre><code>
SELECT empno, ename, deptno
FROM employees
WHERE deptno IN(10, 20);
</code></pre>



##LIKE演算子

LIKE演算子を使うとさらに高度な文字列パターンで検索をかけられます

% 0文字以上の任意の文字列と一致する

_ 任意の文字列と一致する

例えば次の例では名前に鈴木を含む従業員を全て抽出しています

<pre><code>
SELECT
    *
FROM
    emplyoees
WHEERE
    empname like "%鈴木%"
</code></pre>

次の例では鈴木の後に三文字続く人を出力しています

<pre><code>
SELECT
    *
FROM
    emplyoees
WHEERE
    empname like "%鈴木___"
</code></pre>

##ESCAPEオプション

%が文字列に入るものを認識したい時はさらに高度な技が必要になります。

そのためにはESCAPEオプションが役に立ちます

ESCAPEの後に任意の文字を指定することで、その文字をエスケープシークエンスとして扱うことができます

例えば以下の場合は50%を文字列として含むものを抽出できます

50％を50¥%として表記することで、%がワイルドカードとして認識されることを防げます

<pre><code>
SELECT
    *
FROM
    emplyoees
WHEERE
    work_rate like "%50¥%%" ESCAPE '¥'
</code></pre>


##IS NULL演算子

IS NULLは値がNULLかどうかを比較することができます

つぎのselectはwork_rateがNULLになっている従業員を出力します

<pre><code>
SELECT
    *
FROM
    emplyoees
WHEERE
    work_rate IS NULL
</code></pre>

逆にNULL出ないものを抽出したい時は IS NOT NULLを使用します

<pre><code>
SELECT
    *
FROM
    emplyoees
WHEERE
    work_rate IS NOT NULL
</code></pre>

- ちなみにNULL稼働かの比較は,=では行えません。



##AND演算子

前後に指定された条件が両方ともTRUEの場合にTRUE 



##OR演算子

前後に指定された条件のどちらか一方でもTRUEの場合にTRUE 









