



## dockerfileのADD

ビルドコンテキストまたはリモートURLからイメージにファイルをコピーします。アーカイブの場合
ファイルはローカルパスから追加され、自動的に解凍されます。

ADDの対象となる機能は非常に大きいため、通常はよりシンプルな以下のものを選択するのが最適です。



- ビルドコンテキストでファイルとディレクトリをコピーして実行するためのCOPYコマンド

- リモートリソースをダウンロードするためのcurlまたはwgetを使用した手順（同じ命令でダウンロードを処理および削除する可能性を考慮してます。）



## dockerfileのCMD

コンテナの起動時に指定された命令を実行します。(RUNコマンドはビルド時に命令が実行されますが、CMDはコンテナの起動時であることに注意してください)

ENTRYPOINTに定義されている場合、命令はENTRYへの引数として解釈されます。

また、CMD命令はイメージ名の後に実行されるdockerへの引数によってオーバーライドされます。

CMD命令は重複されることはない特徴があり、以前のCMD命令はすべてオーバーライドされます（ベースイメージのものを含む）。


## dockerfileのCOPY

ビルドコンテキストからイメージにファイルをコピーするために使用されます。 

COPYには2つの形式があります。

- COPY src target
- COPY["src"、 "dest"]

どちらもファイルまたはディレクトリをコピーします

ビルドコンテキストのsrcで、コンテナ内で宛先を指定します。 

**ADDよりはこちらのCOPYを優先してください。**



## dockerのENTRYPOINT

コンテナの起動時に実行される実行可能ファイル（およびデフォルトの引数）を設定します。

イメージ名の後に実行されるdockerへのCMD命令または引数は、パラメータとして実行可能ファイルに渡されます。 

ENTRYPOINT命令は、多くの場合、「スターター」スクリプトを提供する想定で盛り込まれた機能です。















title:dockerfileの作り方【docker入門】


